#:import IconButton widgets.buttons.IconButton
#:import Text widgets.labels.Text
<MainWindow>:
    spacing: dp(8)
    canvas.before:
        Color:
            rgba: rgba('#ffffff')
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        id: nav_menu
        size_hint_x: .15
        orientation: 'vertical'
        padding: dp(8)
        BoxLayout:
            id: logo_box
            size_hint_y:.1
            AnchorLayout:
                anchor_x: 'right'
                size_hint_x:None
                width: dp(32)
                IconButton:
                    source: 'assets/imgs/logo.png'
                    size_hint_y: None
                    height: dp(32)
            Text:
                text: 'Unique Dash'
                font_name: app.fonts.heading
                font_size: app.fonts.size.h3
        BoxLayout:
            id: tabs_box
            orientation:'vertical'
            spacing: dp(8)
            size_hint_y:.6
            NavTab:
                text: 'Overview'
                state: 'down'
                icon: 'assets/icons/ic_grid.png'
                icon_active: 'assets/icons/ic_grid_active.png'
            NavTab:
                text: 'Analytics'
                icon: 'assets/icons/ic_trend.png'
                icon_active: 'assets/icons/ic_trend_active.png'
            NavTab:
                text: 'Sales'
                icon: 'assets/icons/ic_cart.png'
                icon_active: 'assets/icons/ic_cart_active.png'
            NavTab:
                text: 'Customers'
                icon: 'assets/icons/ic_people.png'
                icon_active: 'assets/icons/ic_people_active.png'
            NavTab:
                text: 'Finance'
                icon: 'assets/icons/ic_money.png'
                icon_active: 'assets/icons/ic_money_active.png'
            NavTab:
                text: 'Orders'
                icon: 'assets/icons/ic_bag.png'
                icon_active: 'assets/icons/ic_bag_active.png'
        BoxLayout:
            id: sec_box
            size_hint_y:.3




    BoxLayout:
        orientation: 'vertical'
        padding: [dp(0),dp(8),dp(12),dp(8)]
        size_hint_x: .85
        spacing: dp(8)
        canvas.before:
            Color:
                rgba: [1,1,0,0.1]
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            id: actionbar
            size_hint_y: None
            height: dp(64)
            canvas.before:
                Color:
                    rgba: [1,0,0,0.1]
                Rectangle:
                    pos: self.pos
                    size: self.size

        BoxLayout:
            ScreenManager:
                id: scrn_mngr
                Screen:
                    name: 'scrn_overview'
                Screen:
                    name: 'scrn_analytics'
                Screen:
                    name: 'scrn_sales'
                Screen:
                    name: 'scrn_customers'
                Screen:
                    name: 'scrn_finance'

<NavTab>:
    background_normal: ''
    background_down: ''
    background_color: [0,0,0,0]
    group: 'tabs'
    color: rgba('c4c4c4') if self.state == 'normal' else app.colors.primary
    canvas.before:
        Color:
            rgba: [0,0,0,0] if self.state == 'normal' else rgba("#E1F1FF")
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: [0,0,0,0] if self.state == 'normal' else app.colors.primary
        Rectangle:
            pos: [self.pos[0]+(self.size[0]-dp(1)), self.pos[1]]
            size: [dp(8), self.size[1]]
    AnchorLayout:
        size_hint_x: None
        width: self.height
        padding: [dp(28),dp(14),dp(0),dp(14)]
        Widget:
            canvas.before:
                Color:
                    rgba: [1,1,1,1]
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: root.icon if root.state == 'normal' else root.icon_active
    Text:
        halign: 'left'
        valign: 'middle'
        text: root.text
        color: rgba('c4c4c4') if root.state == 'normal' else app.colors.primary
